<%= simple_form_for(demand) do |f| %>
  <% topic_options = Constants::DEMAND_TOPICS.map{ |topic| [topic, topic] } %>
  <%= f.input(:demand_description, as: :text, input_html: { class: 'typeahead form-control--text', data: {source: Problem.all.map(&:name).uniq.to_json} }) %>
  <%= f.input(:solution, input_html: { class: 'form-control--text' }, required: false) %>
  <%= f.input(:topic, input_html: { class: 'form-control form-control--select' }, as: :select, collection: topic_options, required: false) %>
  <%= f.input(:is_statewide,
    as: :radio_buttons,
    wrapper: :radio_pills,
    collection: [['0', current_user.municipality.short_name], ['1', current_user.municipality.state.name]],
    label_method: :second,
    value_method: :first,
    label: "Demand applies to",
    checked: demand.is_statewide ? '1' : '0',
    required: false)
  %>
  <%= f.submit(submit_text, class: 'btn btn-primary') %>
<% end %>
